# 一言选股 MCP 服务 支持SSE连接

## 一、服务基本信息
| 项目                | 说明                                                                 |
|---------------------|----------------------------------------------------------------------|
| 服务名称            | [一言选股 MCP 服务](https://platform.wanxingai.com/user/)                                    |
| 核心定位            | 基于 FastMCP 框架开发的标准化股票信息查询服务，提供金融数据接口与智能分析能力 |
| 服务提供方          | 上海万行道和人工智能科技有限公司                     |
| 股票数据            | 股票市场数据存储在云端，通过mcp插件从云端获取股票市场数据            |
| 服务官方地址        | [万行一言开放平台](https://platform.wanxingai.com/user/) ，申请key后使用本MCP服务         |
| 核心价值            | 帮助开发者快速集成股票代码查询、行情查询、金融数据分析功能至自有应用     |


## 二、服务概览
一言选股 MCP是[万行一言开放平台](https://platform.wanxingai.com/user/)推出的金融引擎 服务服务聚焦金融领域股票数据需求，通过封装标准化工具函数，为开发者提供低门槛、高可靠的股票信息接口。无需关注底层数据采集与处理逻辑，仅需调用对应工具函数（接口均基于 [万行一言开放平台](https://yiyan.wanxingai.com/) 域名提供），即可获取股票名称-代码映射、实时行情、历史行情等核心数据，适用于股票类 APP、金融分析工具、智能投顾辅助系统等场景。

## MCP 服务器配置

| 配置项 | 值 |
| :--- | :--- |
| **服务器名称** | `yiyanxuangu` |
| **URL** | `https://mcp.wanxingai.com/sse` |
| **请求头 (Headers)** | |
| `Authorization` | `Bearer sk-dd0f204b779d078d44dcb10f289926b1` |
| `Content-Type` | `application/json` |

## 🛠️ Quick Start

```bash
{
  "mcpServers": {
    "yiyanxuangu": {
      "headers": {
        "Authorization": "Bearer sk-dd0f204b779d078d44dcb10f289926b1",
        "Content-Type": "application/json"
      },
      "url": "https://mcp.wanxingai.com/sse"
    }
  }
}
```


## 三、核心工具函数
### 3.1 工具函数概览
| 工具函数名                  | 功能描述                                                                 |
|-----------------------------|--------------------------------------------------------------------------|
| `get_stock_code`            | 根据股票名称查询对应股票代码，返回名称校正结果与标准代码                  |
| `get_stock_real_time_quotation` | 根据股票代码查询实时行情数据，支持指定需返回的行情指标（如最新价、涨跌幅） |
| `get_stock_history_quotation`  | 根据股票代码与时间区间查询历史行情数据，支持自定义行情指标                |


### 3.2 工具函数详情
#### 3.2.1 `get_stock_code`（股票名称转代码）
**功能**：输入股票名称，返回校正后的标准名称与对应股票代码（支持名称自动纠错）。

| 参数名       | 类型   | 是否必填 | 说明                     | 示例               |
|--------------|--------|----------|--------------------------|--------------------|
| `stock_name` | string | ✅        | 待查询的股票名称（支持模糊输入） | "花大基因"         |


- 示例：
  ```json
  {
    "name": "花大基因",        // 输入的原始名称
    "corrected_name": "华大基因", // 经校正后的标准名称
    "stock_code": "300676.SZ"   // 对应的标准股票代码（后缀 SZ 代表深市，SH 代表沪市）
  }
  ```


#### 3.2.2 `get_stock_real_time_quotation`（实时行情查询）
**功能**：根据股票代码，查询指定维度的实时行情数据（数据单位：价格为“元”，成交量为“手”）。

| 参数名       | 类型   | 是否必填 | 说明                                                                 | 示例                 |
|--------------|--------|----------|----------------------------------------------------------------------|----------------------|
| `stock_code` | string | ✅        | 标准股票代码（需包含市场后缀，如 SZ/SH）                              | "300676.SZ"          |
| `indicators` | string | ✅        | 需查询的行情指标（多指标用英文逗号分隔，支持选项见下方）               | "latest,changeRatio,volume" |

**支持的行情指标**：
- `preClose`：前收盘价
- `open`：开盘价
- `high`：最高价
- `low`：最低价
- `latest`：最新价（当日实时价，非收盘后则为当前价）
- `amount`：成交额（单位：元）
- `volume`：成交量（单位：手）
- `changeRatio`：涨跌幅（单位：%）
- `turnoverRatio`：换手率（单位：%）




#### 3.2.3 `get_stock_history_quotation`（历史行情查询）
**功能**：根据股票代码与时间区间，查询指定维度的历史行情数据（数据单位同实时行情）。

| 参数名       | 类型   | 是否必填 | 说明                                                                 | 示例                 |
|--------------|--------|----------|----------------------------------------------------------------------|----------------------|
| `stock_code` | string | ✅        | 标准股票代码（需包含市场后缀，如 SZ/SH）                              | "300676.SZ"          |
| `indicators` | string | ✅        | 需查询的行情指标（多指标用英文逗号分隔，支持选项同实时行情）           | "open,high,low,latest,volume" |
| `startdate`  | string | ✅        | 开始日期（格式：YYYY-MM-DD，需早于 enddate）                          | "2024-01-01"         |
| `enddate`    | string | ✅        | 结束日期（格式：YYYY-MM-DD，需晚于 startdate）                        | "2024-01-31"         |


## 四、计费说明
- 本 MCP 服务为第三方付费服务，具体计费标准（如按调用次数、流量等）可访问服务官方地址 [万行一言开放平台](https://platform.wanxingai.com/user/) 查询，或联系服务提供方获取定制化报价。
- 新用户可咨询提供方是否有试用额度或优惠活动，避免超额产生额外费用。


## 五、外部调用配置示例
### 5.1 客户端配置（以支持 FastMCP 协议的客户端为例）
需在[万行一言开放平台](platform.wanxingai.com/user/)注册开发者账号，获取 API Key。


### 5.2 调用注意事项
1. 调用凭证（如 API Key、Token）需联系上海万行道和人工智能科技有限公司申请，确保权限有效；
2. 所有工具函数均需通过 POST 方法调用，请求体参数需严格匹配字段类型（如 `stock_code` 必须为字符串，不可传整数）；
3. 若调用失败，可先检查请求 URL 是否为 [万行一言开放平台](https://platform.wanxingai.com/user/) 对应的工具路径，或通过服务官方地址反馈问题。


## 六、联系与支持
- 服务提供方：上海万行道和人工智能科技有限公司
- 官方服务入口：[万行一言开放平台](https://platform.wanxingai.com/user/)（可在此获取技术文档、计费详情）
- 支持场景：技术集成问题、接口异常排查、计费咨询、凭证申请
- 建议优先通过服务官方地址的“联系我们”模块获取支持，确保问题高效解决。
